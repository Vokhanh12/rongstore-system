{"level":"info","ts":"2025-08-23T13:37:40.720+0700","caller":"server/main.go:40","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-23T13:37:41.701+0700","caller":"server/main.go:69","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-23T13:37:54.973+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":221,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-23T13:38:06.731+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"OK","latency_ms":106,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"5b2fbdfa-3713-44f1-b973-c5e82c6115f6"}
{"level":"info","ts":"2025-08-25T14:34:56.195+0700","caller":"server/main.go:40","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-25T14:34:57.092+0700","caller":"server/main.go:69","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-25T14:35:06.986+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":202,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-25T15:42:40.200+0700","caller":"server/main.go:53","msg":"checking Keycloak readiness","url":"http://keycloak_server:9000"}
{"level":"info","ts":"2025-08-25T15:42:40.200+0700","caller":"server/main.go:42","msg":"metrics endpoint started","addr":":9090"}
{"level":"fatal","ts":"2025-08-25T15:43:10.297+0700","caller":"server/main.go:56","msg":"Keycloak is not ready","error":"Keycloak not ready after 10 retries","stack":"main.main\n\t/Users/vokhanh12/Development/rongstore-system/server/cmd/server/main.go:56\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-08-25T15:55:38.543+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T15:55:38.544+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T15:55:38.544+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-25T15:55:49.467+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T15:55:49.468+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T15:55:49.468+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"fatal","ts":"2025-08-25T15:56:20.639+0700","caller":"server/main.go:59","msg":"Keycloak is not ready","error":"Keycloak not ready after 10 retries","stack":"main.main\n\t/Users/vokhanh12/Development/rongstore-system/server/cmd/server/main.go:59\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-08-25T16:00:43.185+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:00:43.186+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:00:43.186+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-25T16:00:43.720+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:00:44.674+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-25T16:01:55.775+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:01:55.776+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:01:55.776+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-25T16:02:21.644+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:02:21.645+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:02:21.645+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"fatal","ts":"2025-08-25T16:02:52.695+0700","caller":"server/main.go:59","msg":"Keycloak is not ready","error":"Keycloak not ready after 10 retries","stack":"main.main\n\t/Users/vokhanh12/Development/rongstore-system/server/cmd/server/main.go:59\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-08-25T16:05:00.641+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:05:00.641+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:05:00.641+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"fatal","ts":"2025-08-25T16:05:31.901+0700","caller":"server/main.go:59","msg":"Keycloak is not ready","error":"Keycloak not ready after 10 retries","stack":"main.main\n\t/Users/vokhanh12/Development/rongstore-system/server/cmd/server/main.go:59\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-08-25T16:06:50.289+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:06:50.289+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:06:50.290+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-25T16:07:06.189+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-25T16:07:07.119+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-26T18:37:50.704+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:37:50.705+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:37:50.705+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"fatal","ts":"2025-08-26T18:38:21.794+0700","caller":"server/main.go:59","msg":"Keycloak is not ready","error":"Keycloak not ready after 10 retries","stack":"main.main\n\t/Users/vokhanh12/Development/rongstore-system/server/cmd/server/main.go:59\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-08-26T18:39:37.437+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:39:37.437+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:39:37.438+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-26T18:39:37.735+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:39:38.622+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-26T18:40:06.251+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":194,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"error","ts":"2025-08-26T18:40:35.640+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = failed to get token: status 404, body {\"error\":\"Unable to find matching target resource method\",\"error_description\":\"For more on this error consult the server log at the debug level.\"}","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T18:40:35.641+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":291,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"5b2fbdfa-3713-44f1-b973-c5e82c6115f6"}
{"level":"info","ts":"2025-08-26T18:58:05.611+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:58:05.611+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:58:05.612+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-26T18:58:05.807+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T18:58:06.714+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-26T18:58:18.814+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":192,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"error","ts":"2025-08-26T18:58:46.223+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = failed to get token: status 404, body {\"error\":\"Unable to find matching target resource method\",\"error_description\":\"For more on this error consult the server log at the debug level.\"}","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T18:58:46.224+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":286,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"error","ts":"2025-08-26T19:02:23.772+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = Post \"http://100.114.31.30:9090/auth/realms/rongstore-realm/protocol/openid-connect/token\": context canceled","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T19:02:23.772+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":112072,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"error","ts":"2025-08-26T19:03:10.158+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = failed to get token: status 404, body {\"error\":\"Unable to find matching target resource method\",\"error_description\":\"For more on this error consult the server log at the debug level.\"}","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T19:03:10.158+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":2455,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"error","ts":"2025-08-26T19:05:11.479+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = Post \"http://100.114.31.30:9090/auth/realms/rongstore-realm/protocol/openid-connect/token\": context canceled","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T19:05:11.481+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":73443,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"info","ts":"2025-08-26T19:05:23.460+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T19:05:23.461+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T19:05:23.461+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-26T19:05:23.656+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090/auth"}
{"level":"info","ts":"2025-08-26T19:05:24.528+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"error","ts":"2025-08-26T19:05:27.931+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = failed to get token: status 404, body {\"error\":\"Unable to find matching target resource method\",\"error_description\":\"For more on this error consult the server log at the debug level.\"}","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T19:05:27.932+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":2940,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"error","ts":"2025-08-26T19:07:35.519+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = Post \"http://100.114.31.30:9090/auth/realms/rongstore-realm/protocol/openid-connect/token\": context canceled","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T19:07:35.520+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":24352,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"info","ts":"2025-08-26T19:07:57.646+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-26T19:07:57.646+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-26T19:07:57.646+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-26T19:07:57.872+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-26T19:07:59.007+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"error","ts":"2025-08-26T19:08:04.848+0700","caller":"errors/translate.go:79","msg":"translated_error","service":"iam","handler":"unknown","code":"CORE-INF-000","status":500,"trace_id":"abc123","error":"rpc error: code = Unauthenticated desc = json: cannot unmarshal number into Go struct field Token.not-before-policy of type string","stack":"server/pkg/errors.incAndLog\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:79\nserver/pkg/errors.TranslateDomainError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/errors/translate.go:63\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:129\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:49\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Login_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:120\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-26T19:08:04.848+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"Unauthenticated","latency_ms":2607,"http_status":401,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"info","ts":"2025-08-26T19:09:20.947+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-26T19:09:20.947+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-26T19:09:20.947+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-26T19:09:21.142+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-26T19:09:22.015+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-26T19:09:24.817+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"OK","latency_ms":1945,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"info","ts":"2025-08-27T18:03:39.777+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:03:39.778+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:03:39.778+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"fatal","ts":"2025-08-27T18:04:11.196+0700","caller":"server/main.go:59","msg":"Keycloak is not ready","error":"Keycloak not ready after 10 retries","stack":"main.main\n\t/Users/vokhanh12/Development/rongstore-system/server/cmd/server/main.go:59\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-08-27T18:05:27.078+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:05:27.079+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:05:27.079+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-27T18:05:27.383+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:05:28.390+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-27T18:24:47.958+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:24:47.958+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:24:47.959+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-27T18:24:48.183+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:24:49.193+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-27T18:24:58.876+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:24:58.878+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:24:58.878+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-27T18:24:59.109+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T18:25:00.164+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-27T19:11:16.317+0700","caller":"server/main.go:41","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:11:16.318+0700","caller":"server/main.go:56","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:11:16.318+0700","caller":"server/main.go:47","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-27T19:11:16.621+0700","caller":"server/main.go:61","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:11:17.521+0700","caller":"server/main.go:89","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-27T19:15:41.563+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Login","method":"/iam.v1.IamService/Login","trace_id":"abc123","status":"OK","latency_ms":1337,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","session_id":"4d19d82a-cfaf-4f60-aa6e-95b70f935f17"}
{"level":"info","ts":"2025-08-27T19:17:58.375+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":196,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-27T19:45:57.940+0700","caller":"server/main.go:39","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:45:57.940+0700","caller":"server/main.go:52","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:45:57.941+0700","caller":"server/main.go:44","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-27T19:45:58.379+0700","caller":"server/main.go:57","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:45:59.316+0700","caller":"server/main.go:81","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-27T19:46:25.942+0700","caller":"server/main.go:39","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:46:25.942+0700","caller":"server/main.go:52","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:46:25.942+0700","caller":"server/main.go:44","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-27T19:46:26.243+0700","caller":"server/main.go:57","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-27T19:46:28.843+0700","caller":"server/main.go:81","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-27T19:46:33.071+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-27T19:46:36.514+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:01:43.945+0700","caller":"server/main.go:32","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:01:43.946+0700","caller":"server/main.go:45","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:01:43.946+0700","caller":"server/main.go:37","msg":"metrics endpoint started","addr":":9090"}
{"level":"fatal","ts":"2025-08-28T16:02:15.097+0700","caller":"server/main.go:48","msg":"Keycloak is not ready","error":"Keycloak not ready after 10 retries","stack":"main.main\n\t/Users/vokhanh12/Development/rongstore-system/server/cmd/server/main.go:48\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-08-28T16:02:56.922+0700","caller":"server/main.go:32","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:02:56.922+0700","caller":"server/main.go:45","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:02:56.922+0700","caller":"server/main.go:37","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:02:57.206+0700","caller":"server/main.go:50","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:02:58.117+0700","caller":"server/main.go:74","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:03:10.826+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:06:04.953+0700","caller":"server/main.go:32","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:06:04.953+0700","caller":"server/main.go:45","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:06:04.953+0700","caller":"server/main.go:37","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:06:05.155+0700","caller":"server/main.go:50","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:06:06.058+0700","caller":"server/main.go:74","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:06:09.214+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:06:11.350+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:06:30.737+0700","caller":"server/main.go:32","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:06:30.738+0700","caller":"server/main.go:45","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:06:30.738+0700","caller":"server/main.go:37","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:06:30.939+0700","caller":"server/main.go:50","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:06:31.843+0700","caller":"server/main.go:74","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:06:33.136+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":205,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:06:55.542+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":212,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:07:07.012+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":202,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:09:37.266+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:09:37.266+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:09:37.266+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:09:37.469+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:09:38.371+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:16:54.213+0700","caller":"server/main.go:32","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:16:54.213+0700","caller":"server/main.go:45","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:16:54.213+0700","caller":"server/main.go:37","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:16:54.412+0700","caller":"server/main.go:50","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:16:55.317+0700","caller":"server/main.go:74","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:16:58.323+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:19:54.699+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:19:54.700+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:19:54.700+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:19:54.898+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:19:55.804+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:19:58.565+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":199,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:20:19.495+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":202,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:25:06.004+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":202,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:25:16.804+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":203,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:27:10.457+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"InternalError","latency_ms":37627,"http_status":500,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:27:39.629+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":1296,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:30:42.033+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:30:42.034+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:30:42.034+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:30:42.233+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:30:43.129+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:30:45.989+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:32:24.585+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:32:24.585+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:32:24.585+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:32:24.784+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:32:25.691+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:32:26.411+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:32:37.481+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:32:37.481+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:32:37.481+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:32:37.681+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:32:38.582+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:32:42.297+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"Unauthenticated","latency_ms":0,"http_status":401,"ip":"","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","reason":"rpc error: code = Unauthenticated desc = missing metadata: authorization"}
{"level":"info","ts":"2025-08-28T16:35:01.263+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:35:01.263+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:35:01.263+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:35:01.462+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:35:02.372+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:35:07.422+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":2637,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:36:15.271+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"InternalError","latency_ms":1,"http_status":500,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:36:18.961+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":201,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:37:26.182+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"InternalError","latency_ms":0,"http_status":500,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:40:09.741+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"InternalError","latency_ms":121694,"http_status":500,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:52:29.980+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:52:29.981+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:52:29.981+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:52:30.259+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:52:31.278+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"info","ts":"2025-08-28T16:52:36.858+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":2483,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:53:02.170+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"OK","latency_ms":0,"http_status":200,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:57:22.903+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:57:22.903+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:57:22.903+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:57:23.096+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:57:23.986+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"error","ts":"2025-08-28T16:57:25.289+0700","caller":"logger/log_helpers.go:118","msg":"error_event","service":"May-tinh-xach-tay-cua-Nguyen.local","event":"IamService/Handshake","trace_id":"abc123","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","error":"rpc error: code = Internal desc = AUTH-HAND-001: 400 client public key is required","stack":"","method":"/iam.v1.IamService/Handshake","stack":"server/pkg/logger.LogError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/logger/log_helpers.go:118\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:183\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:77\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Handshake_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:138\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-28T16:57:25.289+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"InternalError","latency_ms":0,"http_status":500,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown"}
{"level":"info","ts":"2025-08-28T16:59:46.611+0700","caller":"server/main.go:31","msg":"config loaded","keycloak_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:59:46.611+0700","caller":"server/main.go:44","msg":"checking Keycloak readiness","url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:59:46.611+0700","caller":"server/main.go:36","msg":"metrics endpoint started","addr":":9090"}
{"level":"info","ts":"2025-08-28T16:59:46.804+0700","caller":"server/main.go:49","msg":"Keycloak client ready","base_url":"http://100.114.31.30:9090"}
{"level":"info","ts":"2025-08-28T16:59:47.707+0700","caller":"server/main.go:73","msg":"gRPC server started","addr":":50051"}
{"level":"error","ts":"2025-08-28T16:59:50.560+0700","caller":"logger/log_helpers.go:118","msg":"error_event","service":"May-tinh-xach-tay-cua-Nguyen.local","event":"IamService/Handshake","trace_id":"abc123","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","error":"rpc error: code = Internal desc = AUTH-HAND-001: 400 client public key is required","stack":"","method":"/iam.v1.IamService/Handshake","stack":"server/pkg/logger.LogError\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/logger/log_helpers.go:118\nserver/pkg/observability.UnaryServerInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:185\ngoogle.golang.org/grpc.getChainUnaryHandler.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1243\nserver/pkg/observability.GrpcTraceUnaryInterceptor.func1\n\t/Users/vokhanh12/Development/rongstore-system/server/pkg/observability/grpc_interceptor.go:77\ngoogle.golang.org/grpc.chainUnaryInterceptors.func1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1234\nserver/api/iam/v1._IamService_Handshake_Handler\n\t/Users/vokhanh12/Development/rongstore-system/server/api/iam/v1/iam_grpc.pb.go:138\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1431\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1841\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1\n\t/Users/vokhanh12/go/pkg/mod/google.golang.org/grpc@v1.74.2/server.go:1061"}
{"level":"info","ts":"2025-08-28T16:59:50.561+0700","caller":"logger/log_helpers.go:47","msg":"request_handled","service":"iam_service","handler":"IamService/Handshake","method":"/iam.v1.IamService/Handshake","trace_id":"abc123","status":"InternalError","latency_ms":0,"http_status":500,"ip":"127.0.0.1","user_agent":"","instance":"May-tinh-xach-tay-cua-Nguyen.local","env":"unknown","trace_id":"abc123","error_code":"CORE-INF-000"}
